function iterationChange(h){var c=h.ownerDocument,e=c.getElementById("rmAfterLoadSpan"),c=c.getElementById("rmAfterLoadInput");"0"===h.value?(e.style.color="lightgrey",c.disabled=!0):(e.style.color="black",c.disabled=!1)}
function animSelectionChange(h){var c;c=CKEDITOR.plugins.cssanim.ckEditor.lang.cssanim;var e=h.parentElement.parentElement,p=e.parentNode.parentNode.parentNode.getElementsByClassName("cssAnimButton"),g=h.ownerDocument,q=g.getElementById("rmAfterLoadSpan"),m=g.getElementById("rmAfterLoadInput"),d=g.getElementsByName("anim_L").item(0),n=g.getElementsByName("anim_C").item(0),g=g.getElementsByName("anim_O").item(0);if("anim_L"===h.name&&"none"===d.value){if("cssAnimPause"===n.value)return alert(c.pbOnClickPause),
void(d.selectedIndex=selectList_cache);if("cssAnimPause"===g.value)return alert(c.pbOnOverPause),void(d.selectedIndex=selectList_cache)}if("anim_C"===h.name&&"none"===d.value&&"cssAnimPause"===n.value)return alert(c.pbOnClickOnLoadNone),void(n.selectedIndex=selectList_cache);if("anim_O"===h.name&&"none"===d.value&&"cssAnimPause"===g.value)return alert(c.pbOnOverOnLoadNone),void(g.selectedIndex=selectList_cache);if("cssAnimPause"===h.value||"none"===h.value){for(c=1;c<e.childElementCount;c+=1)e.childNodes[c].style.opacity=
0;p[0].style.display="none";"anim_L"===h.name&&(q.style.color="lightgrey",m.disabled=!0)}else{for(c=1;c<e.childElementCount;c+=1)e.childNodes[c].style.opacity="initial";p[0].style.display="initial";"anim_L"===h.name&&(q.style.color="black",m.disabled=!1)}}var selectList_cache;
CKEDITOR.dialog.add("cssanimAddAnimDialog",function(h){function c(d,n,e,b){var f,a="",c='checked \x3d "checked"',h=0,m="normal",p=1,t=1,q="none",x="linear",u=["linear","ease","ease-in","ease-out","ease-in-out"],v=["normal","alternate"],l=null,k="",w="black";b&&(0<=b.indexOf("animation-play-state")?l={name:"cssAnimPause",duration:null,timingFunction:"linear",delay:0,iterationCount:1,direction:"normal"}:(f=b.replace("{animation:","").replace("}","").replace(";","").trim(),l=parseCSS3AnimationShorthand(f)),
h=l.delay/1E3,m=l.direction,p=l.duration/1E3,t=l.iterationCount,"infinite"===t&&(t=0,e=!1),q=l.name,x=l.timingFunction);a+='\x3ctable style\x3d"display:block; overflow-y\x3dscroll;  overflow-y: auto; width:550px;"\x3e\x3ctr\x3e';a+='\x3cth style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px; width:100px;"\x3e';a+=g.name;a+="\x3c/th\x3e";a+='\x3cth style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px; width:60px;"\x3e';a+=g.duration;a+="\x3c/th\x3e";
a+='\x3cth style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px; width:100px;"\x3e';a+=g.tFunc;a+="\x3c/th\x3e";a+='\x3cth style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px; width:60px;"\x3e';a+=g.delay;a+="\x3c/th\x3e";a+='\x3cth title\x3d"If set to 0, iteration will be set as \'infinite\'" style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px; width:70px;"\x3e';a+=g.iter;a+="\x3c/th\x3e";a+='\x3cth style\x3d"text-align: center;font-weight: bold;border: 1px solid grey;padding: 2px;"\x3e';
a+=g.direction;a+="\x3c/th\x3e";a+="\x3c/tr\x3e";a+="\x3ctr\x3e";a+='\x3ctd style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';k="";"none"===q&&(k="selected");f=""+('\x3cselect  onclick\x3d"selectList_cache\x3dthis.selectedIndex" onChange\x3d"animSelectionChange(this);" name\x3d"anim'+n+'"\x3e')+('\x3coption value\x3d"none" '+k+"\x3e"+g.none+"\x3c/option\x3e");"_L"!==n&&(k="","cssAnimPause"===q&&(k="selected"),f+='\x3coption value\x3d"cssAnimPause" '+k+"\x3e"+g.cssAnimPause+
"\x3c/option\x3e");for(var y in d){l=d[y];f+='\x3coptgroup label\x3d"'+y+'" style\x3d"font-weight:bold"\x3e';for(b=0;b<l.length;b+=1)k="",l[b]===q&&(k="selected"),f+='\x3coption value\x3d"'+l[b]+'" '+k+"\x3e"+l[b]+"\x3c/option\x3e";f+="  \x3c/optgroup\x3e"}a+=f+"\x3c/select\x3e";a+="\x3c/td\x3e";a+='\x3ctd style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';a+='\x3cinput name\x3d"duration'+n+'" type\x3d"number" min\x3d"1" max\x3d"600" value\x3d"'+p+'" style\x3d"width:4em; border:1px solid gainsboro;"\x3esec';
a+="\x3c/td\x3e";a+='\x3ctd style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';a+='\x3cselect name\x3d"timing'+n+'" style\x3d"border:1px solid gainsboro;"\x3e';for(d=0;d<u.length;d+=1)k="",u[d]===x&&(k="selected"),a+='\x3coption value\x3d"'+u[d]+'" '+k+"\x3e"+u[d]+"\x3c/option\x3e";a+="\x3c/select\x3e";a+="\x3c/td\x3e";a+='\x3ctd style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';a+='\x3cinput name\x3d"delay'+n+'" type\x3d"number" min\x3d"0" max\x3d"600" value\x3d"'+
h+'" style\x3d"width:4em; border:1px solid gainsboro;"\x3esec';a+="\x3c/td\x3e";a+='\x3ctd title\x3d"If set to 0, iteration will be set as \'infinite\'" style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';a+='\x3cinput name\x3d"iteration'+n+'" type\x3d"number" min\x3d"0" max\x3d"99" value\x3d"'+t+'" style\x3d"width:3em; border:1px solid gainsboro" onChange\x3d"iterationChange(this);"\x3e';a+="\x3c/td\x3e";a+='\x3ctd style\x3d"text-align: center;padding: 3px;border: 1px solid gainsboro;"\x3e';
a+='\x3cselect name\x3d"direction'+n+'" style\x3d"border:1px solid gainsboro;"\x3e';for(d=0;d<v.length;d+=1)k="",v[d]===m&&(k="selected"),a+='\x3coption value\x3d"'+v[d]+'" '+k+"\x3e"+v[d]+"\x3c/option\x3e";return a+="\x3c/select\x3e",a+="\x3c/td\x3e",a+="\x3c/tr\x3e",w="black",null!==e&&(!1===e&&(c=""),0===t&&(c="disabled",w="lightgrey"),a+="\x3ctr\x3e",a+='\x3ctd colspan\x3d"3" style\x3d"text-align: center;padding: 3px; border-left: 1px solid gainsboro; border-bottom: 1px solid gainsboro;"\x3e',
a+='\x3cspan id\x3d"rmAfterLoadSpan" style\x3d"color:'+w+'" title\x3d"'+g.ralTitle+'"\x3e'+g.ral+"\x3c/span\x3e",a+="\x3c/td\x3e",a+='\x3ctd colspan\x3d"3" style\x3d"text-align: left; padding: 3px;  border-right: 1px solid gainsboro; border-bottom: 1px solid gainsboro;"\x3e',a+='\x3cinput  id\x3d"rmAfterLoadInput" type\x3d"checkbox" name\x3d"rmAfterLoad"  '+c+"\x3e",a+="\x3c/td\x3e",a+="\x3c/tr\x3e"),a+"\x3c/table\x3e"}function e(d,e){var c;for(c=0;c<d.$.length;c++)if(d.$[c].name==e)return new CKEDITOR.dom.node(d.$[c]);
return null}var p,g=h.lang.cssanim,q=CKEDITOR.getUrl(CKEDITOR.plugins.get("cssanim").path+"dialogs/css3animation.png"),m=null;return{title:g.editAnimsTitle,width:600,minWidth:600,height:400,minHeight:400,resizable:CKEDITOR.DIALOG_RESIZE_NONE,contents:[{id:"mainPanel",label:"CSS_Animation",title:"Animation",padding:0,elements:[{type:"html",id:"htmlAnim",html:"",setup:function(){var d=document.getElementById(this.domId),e=h.config.allowedAnimations;CKEDITOR.plugins.cssanim.runHighLightElem(m);var r=
m,b,f=null;(f=r.getAttribute("data-animation"))&&(b=decodeURIComponent(f),f=JSON.parse(b),CKEDITOR.plugins.cssanim.managePending&&(p[p.length]=[r.getId(),b]));b='\x3cdiv class\x3d"tabs" style\x3d"width:600px;"\x3e\x3cdiv class\x3d"tab"\x3e';b+='\x3cspan style\x3d"font-weight:bold; font-size: larger;"\x3eOnOver\x3c/span\x3e';b+='\x3cdiv id\x3d"cssanimAddAnimDialogTabOver" class\x3d"content" style\x3d"height:55px;"\x3e';r=f&&f.cdo?f.cdo:null;b+=c(e,"_O",null,r);b+='\x3cdiv style\x3d"text-align: center; padding: 2px;"\x3e';
b+='\x3cinput type\x3d"button" class\x3d"cssAnimButton" value\x3d"'+g.testIt+' !" name\x3d"overBtn" onclick\x3d"CKEDITOR.plugins.cssanim.cssanimAddAnimDialogTest(this);"\x3e';b+="\x3c/div\x3e ";b+="\x3c/div\x3e ";b+='\x3cdiv class\x3d"tab"\x3e';b+='\x3cspan style\x3d"font-weight:bold;font-size: larger;"\x3eOnClick\x3c/span\x3e';b+='\x3cdiv  id\x3d"cssanimAddAnimDialogTabClick" class\x3d"content" style\x3d"height:55px;"\x3e';r=f&&f.cdc?f.cdc:null;b+=c(e,"_C",null,r);b+='\x3cdiv style\x3d"text-align: center; padding: 2px;"\x3e';
b+='\x3cinput type\x3d"button" class\x3d"cssAnimButton" value\x3d"'+g.testIt+' !" name\x3d"clickBtn" onclick\x3d"CKEDITOR.plugins.cssanim.cssanimAddAnimDialogTest(this);"\x3e';b+="\x3c/div\x3e ";b+="\x3c/div\x3e ";b+='\x3cdiv class\x3d"tab"\x3e';b+='\x3cspan style\x3d"font-weight:bold;font-size: larger;"\x3eOnLoad\x3c/span\x3e';b+='\x3cdiv  id\x3d"cssanimAddAnimDialogTabLoad" class\x3d"content" style\x3d"height:85px;"\x3e';r=f&&f.cds?f.cds:null;b+=c(e,"_L",f?f.ral:!0,r);b+='\x3cdiv style\x3d"text-align: center; padding: 2px;"\x3e';
b+='\x3cinput type\x3d"button" class\x3d"cssAnimButton" value\x3d"'+g.testIt+' !" name\x3d"loadBtn" onclick\x3d"CKEDITOR.plugins.cssanim.cssanimAddAnimDialogTest(this);"\x3e';b+="\x3c/div\x3e ";b+="\x3c/div\x3e ";b+="\x3c/div\x3e";e='\x3clink rel\x3d"stylesheet" href\x3d"./ckeditor/plugins/cssanim/css/cssanim.css"\x3e\x3cstyle type\x3d"text/css"\x3e.cke_cssanim_container{color:#000 !important;padding:10px 10px 0;margin-top:5px;text-align: center;}.cke_cssanim_container p{margin: 0 0 10px;}\x3c/style\x3e\x3cdiv class\x3d"cke_cssanim_container"\x3e\x3cdiv class\x3d"cke_cssanim_container_div" style\x3d"text-align: center; border: 1px solid grey; width:50%;margin-left: auto;margin-right: auto;"\x3e\x3cimg class\x3d"cke_cssanim_container_img" src\x3d"'+
q+'" alt\x3d"CSS Animation" style\x3d"border: 1px solid grey; padding: 5px; margin: 10px;"\x3e\x3c/div\x3e\x3cbr\x3e\x3cbr\x3e\x3cp id\x3d"elemName" style\x3d"font-weight:bold;font-size: larger;text-align: -webkit-center;"\x3eAnimation '+g.forStr+" : "+m.getName()+"\x3c/p\x3e\x3cbr\x3e"+b+"\x3c/div\x3e";d.innerHTML=e;CKEDITOR.plugins.cssanim.cssanimAddAnimDialog=d},cancel:function(){CKEDITOR.plugins.cssanim.cleanHighlight()},commit:function(){CKEDITOR.plugins.cssanim.cleanHighlight();var d,c=this.getElement().getElementsByTag("input"),
g=this.getElement().getElementsByTag("select"),b={animStart:null,animClick:null,animOver:null,ral:!1};d=e(g,"anim_L").getValue();var f;"none"!==d&&(b.animStart=d+" ",b.animStart+=e(c,"duration_L").getValue()+"s ",b.animStart+=e(g,"timing_L").getValue()+" ",b.animStart+=e(c,"delay_L").getValue()+"s ",f=e(c,"iteration_L").getValue(),"0"===f&&(f="infinite"),b.animStart+=f+" ",b.animStart+=e(g,"direction_L").getValue(),e(c,"rmAfterLoad").$.checked&&"infinite"!==f&&(b.ral=!0));d=e(g,"anim_C").getValue();
"none"!==d&&(b.animClick=d+" ",b.animClick+=e(c,"duration_C").getValue()+"s ",b.animClick+=e(g,"timing_C").getValue()+" ",b.animClick+=e(c,"delay_C").getValue()+"s ",f=e(c,"iteration_C").getValue(),"0"===f&&(f="infinite"),b.animClick+=f+" ",b.animClick+=e(g,"direction_C").getValue());d=e(g,"anim_O").getValue();"none"!==d&&(b.animOver=d+" ",b.animOver+=e(c,"duration_O").getValue()+"s ",b.animOver+=e(g,"timing_O").getValue()+" ",b.animOver+=e(c,"delay_O").getValue()+"s ",f=e(c,"iteration_O").getValue(),
"0"===f&&(f="infinite"),b.animOver+=f+" ",b.animOver+=e(g,"direction_O").getValue());CKEDITOR.plugins.cssanim.runAddAnimElem(m,b)}}]}],onShow:function(){m=CKEDITOR.plugins.cssanim.curSelectedElement;CKEDITOR.plugins.cssanim.managePending&&(p=CKEDITOR.plugins.cssanim.pendingChanges);this.setupContent();var d,c=this.getContentElement("mainPanel","htmlAnim").getInputElement().getElementsByTag("select");d=e(c,"anim_L");animSelectionChange(d.$);d=e(c,"anim_C");animSelectionChange(d.$);d=e(c,"anim_O");
animSelectionChange(d.$)},onOk:function(){this.commitContent();CKEDITOR.plugins.cssanim.managePending&&(CKEDITOR.plugins.cssanim.pendingChanges=p,CKEDITOR.plugins.cssanim.refreshCssAnimDialogAnimationsTab())},onCancel:function(){this.foreach(function(c){c.cancel&&c.cancel.apply(c)})}}});